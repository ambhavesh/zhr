sap.ui.define(["./App.controller","../formatter/Formatter","sap/m/MessageBox"],(e,t,s)=>{"use strict";return e.extend("zleaveinbox.controller.Detail",{formatter:t,onInit(){this.getModel("").setUseBatch(false);var e=this.getModel("JSONModel");this.getView().setModel(e)},onRejectButtonPress:function(){this.getRouter().navTo("DetailEmpty")},onApproveButtonPress:function(e){sap.ui.core.BusyIndicator.show(0);var t=this.getModel("JSONModel").getProperty("/LeaveRequests");var r={LeaveRequestId:t.LEAVE_REQUEST_ID,LeaveType:t.TYPE,EmpId:t.APPLIED_BY_EMP_ID};var o=this.getModel("");o.callFunction("/ApproveLeave",{method:"POST",urlParameters:r,success:e=>{this.getModel("").refresh(true);this.getModel("JSONModel").refresh(true);sap.ui.core.BusyIndicator.hide();s.success("Leave approved successfully",{title:"Success",onClose:e=>{debugger;this.getRouter().navTo("DetailEmpty")}})},error:e=>{debugger;sap.ui.core.BusyIndicator.hide()}})},onRejectButtonPress:function(){sap.ui.core.BusyIndicator.show(0);var e=this.getModel("JSONModel").getProperty("/LeaveRequests");var t={LeaveRequestId:e.LEAVE_REQUEST_ID,LeaveType:e.TYPE,EmpId:e.APPLIED_BY_EMP_ID};var r=this.getModel("");r.callFunction("/RejectLeave",{method:"POST",urlParameters:t,success:()=>{sap.ui.core.BusyIndicator.hide();this.getModel("").refresh(true);this.getModel("JSONModel").refresh(true);s.success("Leave rejected successfully",{title:"Success",onClose:e=>{debugger;this.getRouter().navTo("DetailEmpty")}})},error:e=>{debugger;sap.ui.core.BusyIndicator.hide()}})}})});
//# sourceMappingURL=Detail.controller.js.map