sap.ui.define(["./App.controller","../model/models","../formatter/formatter"],(e,t,s)=>{"use strict";return e.extend("zleaverequest.controller.LeaveRequestDetail",{formatter:s,onInit:function(){this.getModel().setUseBatch(false);this.getRouter().getRoute("LeaveRequest").attachPatternMatched(this._onObjectMatched,this)},_onObjectMatched:async function(){await this.getLeaveRequest()},getLeaveRequest:function(){return new Promise(function(e,t){var s=this.getFilter("LEAVE_REQUEST_ID",sap.ui.model.FilterOperator.EQ,this.getModel("LeaveModel").getProperty("/SelectedLeaveRequestObj").LEAVE_REQUEST_ID);var a=this.getModel();sap.ui.core.BusyIndicator.show();a.read("/LeaveRequests",{filters:[s],urlParameters:{$expand:"APPLIED_BY"},success:t=>{e(t);sap.ui.core.BusyIndicator.hide();this.getModel("LeaveModel").setProperty("/SelectedLeaveRequestObj",t.results[0])},error:e=>{}})}.bind(this))},onLeaveRequestOverviewNavPress:function(){this.getRouter().navTo("RouteMain")},onModifyRequestPress:function(){this.getRouter().navTo("EditLeaveRequestDetail")},onCancelRequestPress:function(){this.getRouter().navTo("LeaveRequest",{LeaveRequestId:this.getModel("LeaveModel").getProperty("/SelectedLeaveRequestObj").LEAVE_REQUEST_ID})},onSaveRequestPress:function(){var e=this.byId("idUpdateDateRange").getValue();var t=this.getModel("LeaveModel").getProperty("/SelectedLeaveRequestObj");t.FROM_DATE=e.split(" - ")[0];t.TO_DATE=e.split(" - ")[1];var s=`/LeaveRequests(guid'${t.LEAVE_REQUEST_ID}')`;this.getModel().update(s,t,{success:()=>{this.getRouter().navTo("LeaveRequest",{LeaveRequestId:this.getModel("LeaveModel").getProperty("/SelectedLeaveRequestObj").LEAVE_REQUEST_ID})},error:e=>{}})}})});
//# sourceMappingURL=LeaveRequestDetail.controller.js.map